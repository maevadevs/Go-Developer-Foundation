package main

// To deal with underlying OS files, we make use of the "io/ioutil" standard package
//	- Use ReadFile(filename string) to read from a file
//		- Returns a []byte or error
import (
	"fmt"
	"io/ioutil"
)

func main() {

	// Reading from the previously stored file
	greeting_byte, err := ioutil.ReadFile("datasave_hello_world.tmp")

	// Error Handling
	//	Go does not have a try-catch system
	//	Instead, it returns errors as part of the function call
	//	If there was any error in reading the file, "err" will be not nil
	if err != nil {
		// We have an error: Create a new case
		// Using Type Conversion: String to []byte
		fmt.Println("Error:", err, "Creating a new file now.")
		greeting_str := "Hello World!"
		greeting_byte = []byte(greeting_str)
	}

	// If here, then there was no error in reading the file
	fmt.Println(greeting_byte)

	// Now, we can use WriteFile(filename, byte_slice, permission)
	//	We will just use a permission of 0666 (read/write)
	//	WriteToFile returns an error type by default
	// 	We can use that with error handling later, but for now, we will just ignore
	_ = ioutil.WriteFile("datasave_hello_world.tmp", greeting_byte, 0666)
}

// > go run main.go deck.go
// > go build main.go deck.go && ./main.exe
